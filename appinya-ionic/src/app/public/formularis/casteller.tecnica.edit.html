<!--
/**
 *  Appinya Open Source Project
 *  Copyright (C) 2021  Daniel Horta Vidal
 *
 *   This program is free software: you can redistribute it and/or modify
 *   it under the terms of the GNU Affero General Public License as
 *   published by the Free Software Foundation, either version 3 of the
 *   License, or (at your option) any later version.
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *   GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 **/  
-->
<ion-header>
  <div class="foto">
    <img
      [src]="casteller?.Foto ? casteller.Foto : 'assets/img/user/user-anonymous.jpg'"
    />
    <div class="sobrenom" *ngIf="casteller">{{casteller.Alias}}</div>
    <div class="nom" *ngIf="casteller">
      {{casteller.Id}} | {{casteller.Nom}} {{casteller.Cognom}}
    </div>
  </div>
  <ion-toolbar color="primary">
    <ion-button color="groc" slot="primary" shape="round" (click)="onSubmit()">
      Guardar
    </ion-button></ion-toolbar
  >
</ion-header>
<ion-content *ngIf="casteller">
  <ion-item>
    <h1>Posicions preferents</h1>
    <ion-icon
      slot="end"
      name="add"
      class="mitja"
      color="primary"
      (click)="obrirPosicions()"
    ></ion-icon>
  </ion-item>
  <ion-list>
    <ion-item *ngFor="let pos of casteller.Posicions">
      <ion-icon
        color="primary"
        class="mitja"
        slot="start"
        src="assets/icons/icon_tipus_posicio_{{pos.IdPosicio}}.svg"
      ></ion-icon>
      <div class="poslabel">{{pos.Descripcio}}</div>
      <div slot="end" style="margin-inline-start: 0px">
        <rating-start
          conversion="200"
          [value]="pos.Experiencia"
          (onChange)="canviExperiencia(pos,$event)"
        ></rating-start>
      </div>
    </ion-item>
    <ion-item>
      <h1>Mides del casteller</h1>
    </ion-item>
    <ion-item>
      <ion-label position="fixed">Braços</ion-label>
      <ion-input
        type="number"
        [(ngModel)]="casteller.DadesTecniques.Bracos"
        name="Bracos"
      ></ion-input>
      <ion-label slot="end">(cm)</ion-label>
    </ion-item>
    <ion-item>
      <ion-label position="fixed">Alçada</ion-label>
      <ion-input
        type="number"
        [(ngModel)]="casteller.DadesTecniques.Alcada"
        name="Alcada"
      ></ion-input>
      <ion-label slot="end">(cm)</ion-label>
    </ion-item>

    <ion-item>
      <ion-label position="fixed">Espatlla</ion-label>
      <ion-input
        type="number"
        [(ngModel)]="casteller.DadesTecniques.Espatlla"
        name="Espatlla"
      ></ion-input>
      <ion-label slot="end">(cm)</ion-label>
    </ion-item>

    <ion-item>
      <ion-range
        min="20"
        max="150"
        step="10"
        [(ngModel)]="casteller.DadesTecniques.Pes"
        snaps
        color="primary"
      >
        <ion-icon
          slot="start"
          class="mitja"
          color="primary"
          src="assets/icons/icon_slim.svg"
        ></ion-icon>
        <ion-icon
          slot="end"
          class="mitja"
          color="primary"
          src="assets/icons/icon_fat.svg"
        ></ion-icon>
      </ion-range>
    </ion-item>
  </ion-list>
</ion-content>
